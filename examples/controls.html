<!DOCTYPE html>
<!--
Â© Dominique Cavailhez 2019
https://github.com/Dominique92/MyOl
Based on https://openlayers.org
-->
<html>
<head>
	<title>My Openlayers</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<link href="images/favicon.png" rel="icon" type="image/png" />
	<link href="images/favicon.png" rel="apple-touch-icon" />

	<!-- Openlayers -->
	<link href="../ol/ol.css" type="text/css" rel="stylesheet">
	<script src="../ol/ol.js"></script>

	<!-- Recherche par nom -->
	<link href="../geocoder/ol-geocoder.min.css" type="text/css" rel="stylesheet">
	<script src="../geocoder/ol-geocoder.js"></script>

	<!-- My Openlayers -->
	<link href="../src/controls.css" type="text/css" rel="stylesheet">
	<script src="../src/controls.js"></script>
	<script src="../src/files.js"></script>
	<script src="../src/gps.js"></script>
	<link href="../src/marker.css" type="text/css" rel="stylesheet">
	<script src="../src/marker.js"></script>

	<!-- This exemple -->
	<style>
		#map {
			width: 100%;
			max-width: 600px;
			height: 80vw;
			max-height: 400px;
		}
	</style>
</head>

<body>
	<a style="float:right" href="marker.html">Marker &#9654;</a>
	<a style="float:right;margin-right:15px" href="..">HOME</a>
	<h1 style="margin:0">Controls</h1>
	<a style="float:right" href="https://github.com/Dominique92/MyOl/">GITHUB &#9654;</a>
	<p><a href="../src/controls.js">src/controls.js</a> adds some usefull controls:
		<ul>
			<li>Full screen</li>
			<li>Geocoder</li>
			<li>Print</li>
			<li>Length of a line</li>
		</ul>
	</p>
	<p><a href="../src/files.js">src/files.js</a> adds some file management controls:
		<ul>
			<li>Load GPX file</li>
			<li>Download GPX file</li>
		</ul>
	<p><a href="../src/gps.js">src/gps.js</a> adds GPS position controls:
		<ul>
			<li>GPS</li>
		</ul>
	</p>

	<div>
		<div id="map"></div>
	</div>

	<div id="myol-help">
		<p>Ceci est un exemple d'aide.</p>
	</div>

	<script>
const geojsonObject = {
		'type': 'FeatureCollection',
		'features': [{
				'type': 'Feature',
				'geometry': {
					'type': 'LineString',
					'coordinates': [
						[0, 58e5],
						[4e5, 62e5],
					],
				},
			},
			{
				'type': 'Feature',
				'geometry': {
					'type': 'Polygon',
					'coordinates': [
						[
							[0, 62e5],
							[4e5, 62e5],
							[4e5, 58e5],
							[0, 62e5],
						],
					],
				},
			},
			{
				'type': 'Feature',
				'geometry': {
					'type': 'MultiPolygon',
					'coordinates': [
						[
							[
								[-2e6, 6e6],
								[0, 6e6],
								[0, 8e6],
								[-2e6, 8e6],
								[-2e6, 6e6],
							],
							[
								[-1.5e6, 6.5e6],
								[-0.5e6, 6.5e6],
								[-0.5e6, 7.5e6],
								[-1.5e6, 7.5e6],
								[-1.5e6, 6.5e6],
							],
						],
					],
				},
			},
		],
	},
	vectorLayer = new ol.layer.Vector({
		source: new ol.source.Vector({
			features: new ol.format.GeoJSON().readFeatures(geojsonObject),
		}),
		style: new ol.style.Style({
			stroke: new ol.style.Stroke({
				color: 'blue',
			}),
			fill: new ol.style.Fill({
				color: 'rgba(0, 0, 255, 0.3)',
			}),
		}),
	});

new ol.Map({
	target: 'map',
	layers: [
		new ol.layer.Tile({
			source: new ol.source.OSM(),
		}),
		vectorLayer,
		layerMarker({
			position: [2e5, 60e5],
			src: 'images/viseur.png',
			dragable: true,
		}),
	],
	controls: controlsCollection({
		permalink: {
			display: true,
		},
		Help: {
			submenuId: 'myol-help',
		},
	}),
});
	</script>
	<script src="print_script.js"></script>

	<h4 style="margin-bottom:0">Tests</h4>
	<div>Test each control</div>
</body>
</html>