<!DOCTYPE html>
<html>

<head>
  <title>test of new editor</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
  <link rel="icon" href="https://openlayers.org/favicon.ico">

  <!-- Openlayers & MyOl package -->
  <link href="../dist/myol.css" type="text/css" rel="stylesheet">
  <script src="../dist/myol-debug.js"></script>
  <script type="module" src="./samples/edit.js"></script>

  <style>
    body {
      color: white;
      background: black;
    }

    #map {
      width: calc(100% - 20px);
      height: 400px;
      margin: 10px;
      color: black;
      background: grey;
    }
  </style>
</head>

<body>
  <p>NEW openlayer editor.</p>

  <div id="map"></div>

  <textarea id="geojson" rows="5" cols="50">
    {
      "type": "FeatureCollection",
      "features": [{
        "type": "Feature",
        "geometry": {
          "type": "LineString",
          "coordinates": [
            [2.5, 48],
            [4.5, 47.2],
            [6.5, 48]
          ]
        }
      }, {
        "type": "Feature",
        "geometry": {
          "type": "GeometryCollection",
          "geometries": [{
            "type": "LineString",
            "coordinates": [
              [1, 47],
              [2.2, 47],
              [2.2, 48]
            ]
          }, {
            "type": "LineString",
            "coordinates": [
              [3, 48],
              [3.5, 48.3]
            ]
          }, {
            "type": "LineString",
            "coordinates": [
              [4, 48.3],
              [3.6, 48]
            ]
          }, {
            "type": "LineString",
            "coordinates": [
              [4.6, 48.3],
              [4.6, 48]
            ]
          }, {
            "type": "LineString",
            "coordinates": [
              [5, 48],
              [5, 48.3]
            ]
          }]
        }
      }, {
        "type": "Feature",
        "geometry": {
          "type": "LineString",
          "coordinates": [
            [5.5, 47.2],
            [8, 44.5]
          ]
        }
      }, {
        "type": "Feature",
        "geometry": {
          "type": "Polygon",
          "coordinates": [
            [
              [4.5, 47.2],
              [7, 44.5],
              [2, 44.5],
              [4.5, 47.2]
            ],
            [
              [4.5, 44.7],
              [3.5, 45.8],
              [5.5, 45.8],
              [4.5, 44.7]
            ]
          ]
        }
      }]
    }
  </textarea>

  <div id="ed-help0">
    <p><b><u>EDITEUR</u>: Modifier le tracé d'une ligne ou d'un polygone</b></p>
    <p>Cliquer sur le bouton &#x2048; (qui bleuit) puis</p>
    <p>Survoler l'objet avec le curseur pour:</p>
    <p>Distinguer une ligne ou un polygone des autres</p>
    <p>Calculer la longueur d'une ligne ou un polygone</p>
  </div>

  <div id="ed-help-modify-line" style="display:none">
    <p><b><u>EDITEUR</u>: Modifier les segments d'une ligne ou d'un polygone</b></p>
    <p>Cliquer sur le bouton &#x2725; (qui bleuit) puis</p>
    <p>Pointer le curseur sur une ligne</p>
    <p><u>Déplacer un sommet</u>: Cliquer sur le sommet et le déplacer</p>
    <p><u>Ajouter un sommet au milieu d'un segment</u>: cliquer le long du segment puis déplacer</p>
    <p><u>Supprimer un sommet</u>: Alt+cliquer sur le sommet</p>
    <p><u>Couper une ligne en deux</u>: Alt+cliquer sur le segment à supprimer</p>
    <p><u>Inverser la direction d'une ligne</u>: Shift+cliquer sur le segment à inverser</p>
    <p><u>Fusionner deux lignes</u>: déplacer l'extrémité d'une ligne pour rejoindre l'autre</p>
    <p><u>Supprimer une ligne</u>: Ctrl+Alt+cliquer sur un segment</p>
  </div>

  <div id="ed-help-modify-polygone" style="display:none">
    <b></b>
    <p><b><u>EDITEUR</u>: Modifier un polygone</b></p>
    <p>Cliquer sur le bouton &#x2725; (qui bleuit) puis </p>
    <p>Pointer le curseur sur un bord de polygone</p>
    <p><u>Déplacer un sommet</u>: Cliquer sur le sommet et le déplacer</p>
    <p><u>Ajouter un sommet au milieu d'un segment</u>: cliquer le long du segment puis déplacer</p>
    <p><u>Supprimer un sommet</u>: Alt+cliquer sur le sommet</p>
    <p><u>Scinder un polygone</u>: joindre 2 sommets du polygone puis Alt+cliquer sur le sommet commun</p>
    <p><u>Fusionner 2 polygones</u>: superposer un côté (entre 2 sommets consécutifs)
      de chaque polygone puis Alt+cliquer dessus</p>
    <p><u>Supprimer un polygone</u>: Ctrl+Alt+cliquer sur un segment</p>
  </div>

  <div id="ed-help1">
    <p><b><u>EDITEUR</u>: Modifier une ligne ou un polygone</b></p>
    <p>Pointer le curseur sur une ligne ou un bord de polygone</p>
    <p>Cliquer sur le bouton &#x2725; (qui bleuit) puis</p>
    <p><u>Déplacer un sommet</u>: Cliquer sur le sommet et le déplacer</p>
    <p><u>Ajouter un sommet au milieu d'un segment</u>: cliquer le long du segment puis déplacer</p>
    <p><u>Supprimer un sommet</u>: Alt+cliquer sur le sommet</p>
    <p><u>Couper une ligne en deux</u>: Alt+cliquer sur le segment à supprimer</p>
    <p><u>Inverser la direction d'une ligne</u>: Shift+cliquer sur le segment à inverser</p>
    <p><u>Transformer un polygone en ligne</u>: Alt+cliquer sur un côté</p>
    <p><u>Fusionner deux lignes</u>: déplacer l'extrémité d'une ligne pour rejoindre l'autre</p>
    <p><u>Transformer une ligne en polygone</u>: déplacer une extrémité pour rejoindre l'autre</p>
    <p><u>Scinder un polygone</u>: joindre 2 sommets du polygone puis Alt+cliquer sur le sommet commun</p>
    <p><u>Fusionner 2 polygones</u>: superposer un côté (entre 2 sommets consécutifs)
      de chaque polygone puis Alt+cliquer dessus</p>
    <p><u>Supprimer une ligne ou un polygone</u>: Ctrl+Alt+cliquer sur un segment</p>
  </div>

  <div id="ed-help2">
    <p><b><u>EDITEUR</u>: Créer une ligne</b></p>
    <p>Cliquer sur le bouton &#x2608; (qui bleuit) puis</p>
    <p>Cliquer sur l'emplacement du début</p>
    <p>Puis sur chaque sommet</p>
    <p>Double cliquer sur le dernier sommet pour terminer</p>
    <hr>
    <p>Cliquer sur une extrémité d'une ligne existante pour l'étendre</p>
  </div>

  <div id="ed-help3">
    <p><b><u>EDITEUR</u>: Créer un polygone</b></p>
    <p>Cliquer sur le bouton &#x23E2; (qui bleuit) puis</p>
    <p>Cliquer sur l'emplacement du premier sommet</p>
    <p>Puis sur chaque sommet</p>
    <p>Double cliquer sur le dernier sommet pour terminer</p>
    <hr>
    <p>Un polygone entièrement compris dans un autre crée un "trou"</p>
  </div>
</body>

</html>