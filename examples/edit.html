<!DOCTYPE html>
<html>

<head>
  <title>test of new editor</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no, width=device-width">
  <link rel="icon" href="https://openlayers.org/favicon.ico">

  <!-- Openlayers & MyOl package -->
  <script type="module" src="./samples/edit.js"></script>

  <style>
    body {
      color: white;
      background: black;
    }

    #map {
      width: calc(100% - 20px);
      height: 400px;
      margin: 10px;
      color: black;
      background: grey;
    }
  </style>
</head>

<body>
  <p>NEW openlayer editor.</p>

  <div id="map"></div>

  <textarea id="geojson" rows="25" cols="50">
    {
      "type": "FeatureCollection",
      "features": [{
        "type": "Feature",
        "geometry": {
          "type": "LineString",
          "coordinates": [
            [2.5, 48],
            [4.5, 47.2],
            [6.5, 48]
          ]
        }
      }, {
        "type": "Feature",
        "geometry": {
          "type": "GeometryCollection",
          "geometries": [{
            "type": "LineString",
            "coordinates": [
              [1, 47],
              [2.2, 47],
              [2.2, 48]
            ]
          }, {
            "type": "LineString",
            "coordinates": [
              [3, 48],
              [3.5, 48.3]
            ]
          }, {
            "type": "LineString",
            "coordinates": [
              [4, 48.3],
              [3.6, 48]
            ]
          }, {
            "type": "LineString",
            "coordinates": [
              [4.6, 48.3],
              [4.6, 48]
            ]
          }, {
            "type": "LineString",
            "coordinates": [
              [5, 48],
              [5, 48.3]
            ]
          }]
        }
      }, {
        "type": "Feature",
        "geometry": {
          "type": "LineString",
          "coordinates": [
            [5.5, 47.2],
            [8, 44.5]
          ]
        }
      }, {
        "type": "Feature",
        "geometry": {
          "type": "Polygon",
          "coordinates": [
            [
              [4.5, 47.2],
              [7, 44.5],
              [2, 44.5],
              [4.5, 47.2]
            ],
            [
              [4.5, 44.7],
              [3.5, 45.8],
              [5.5, 45.8],
              [4.5, 44.7]
            ]
          ]
        }
      }]
    }
  </textarea>

  <div id="ed-help-modify">
    <p><b><u>EDITEUR</u>: Modifier une ligne ou un polygone</b></p>
    <p>Cliquer sur le bouton &#x2725; (qui bleuit) puis</p>
    <p>Cliquer sur une ligne (curseur &#128070;) puis</p>
    <p>Calculer sa longueur (affichée en bas à gauche)</p>
    <p>Déterminer son début (cercle rouge) et sa fin (rond orange)</p>
    <p><u>Déplacer un sommet</u>: Cliquer sur le sommet et le déplacer</p>
    <p><u>Ajouter un sommet au milieu d'un segment</u>:
      cliquer le long du segment puis déplacer</p>
    <p><u>Supprimer un sommet</u>:
      Alt+cliquer sur le sommet</p>

    <p><u>Supprimer une ligne ou un polygone</u>:
      Ctrl+Alt+cliquer sur un segment</p>
    <p><u>Couper une ligne en deux</u>:
      Alt+cliquer sur le segment à supprimer</p>
    <p><u>Inverser la direction d'une ligne</u>:
      Shift+cliquer sur le segment à inverser</p>
    <p><u>Transformer un polygone en ligne</u>:
      Alt+cliquer sur un côté</p>
    <p><u>Fusionner deux lignes</u>:
      déplacer l'extrémité d'une ligne pour rejoindre l'autre</p>
    <p><u>Transformer une ligne en polygone</u>:
      déplacer une extrémité pour rejoindre l'autre</p>
    <p><u>Scinder un polygone</u>:
      joindre 2 sommets du polygone puis Alt+cliquer sur le sommet commun</p>
    <p><u>Fusionner 2 polygones</u>:
      ...</p>
  </div>

  <div id="ed-help-draw">
    <p><b><u>EDITEUR</u>: Créer une ligne</b></p>
    <p>Cliquer sur le bouton
      <span style="display:inline-block;transform:scaleX(-1)">&#x2710;</span>
      (qui bleuit) puis
    </p>
    <p>Cliquer sur l'emplacement du début</p>
    <p>Puis sur chaque sommet</p>
    <p>Double cliquer sur le dernier sommet pour terminer</p>
    <p>Cliquer sur un tracé existant pouy y "coller" et le suivre</p>
    <p>Si la ligne est rebouclée, elle crée un polygone</p>
    <p>Un polygone entièrement compris dans un autre crée un "trou"</p>
  </div>
</body>

</html>